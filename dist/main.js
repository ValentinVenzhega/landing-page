(()=>{"use strict";(e=>{let t=document.querySelector("#timer-hours"),n=document.querySelector("#timer-minutes"),o=document.querySelector("#timer-seconds");function s(e){return e>=0&&e<10?`0${e}`:e}let i=setInterval((function(){let e=function(){let e=(new Date("23 march 2021").getTime()-(new Date).getTime())/1e3,t=Math.floor(e%60),n=Math.floor(e/60%60);return{timeRemaining:e,hours:Math.floor(e/60/60),minutes:n,seconds:t}}();e.timeRemaining>0?(t.textContent=s(e.hours),n.textContent=s(e.minutes),o.textContent=s(e.seconds)):e.timeRemaining<=0&&(clearInterval(i),t.textContent="00",n.textContent="00",o.textContent="00")}),1e3)})(),(()=>{const e=document.querySelector("menu"),t=document.querySelectorAll(".form-btn")[0],n=()=>{e.classList.toggle("active-menu")};window.addEventListener("click",(o=>{const s=o.target;s.closest(".menu")?(n(),t.disabled=!0):s.classList.contains("close-btn")||s.closest("menu>ul")?(n(),t.disabled=!1):s.closest("menu")||(e.classList.remove("active-menu"),t.disabled=!1)}))})(),(()=>{const e=document.querySelector(".popup"),t=document.querySelectorAll(".popup-btn"),n=document.querySelector(".popup-content"),o=document.querySelector("#form3");t.forEach((t=>{t.addEventListener("click",(()=>{e.style.display="block";let t=Date.now(),o=setInterval((function(){let e=Date.now()-t;n.style.left=e/5+"%",e>200&&clearInterval(o),window.innerWidth<768&&(clearInterval(o),n.style.left="")}))}))})),e.addEventListener("click",(t=>{let n=t.target;n.classList.contains("popup-close")?(e.style.display="none",o.reset()):(n=n.closest(".popup-content"),n||(e.style.display="none",o.reset()))}))})(),(()=>{const e=e=>{e.preventDefault();let t=e.currentTarget.getAttribute("href"),n=document.querySelector(t).getBoundingClientRect().top+window.pageYOffset,o=setInterval((()=>{let e=n/20;e>window.pageYOffset-n&&window.innerHeight+window.pageYOffset<document.body.offsetHeight?window.scrollBy(0,e):(window.scrollTo(0,n),clearInterval(o))}),15)},t=document.querySelectorAll("ul>li>a"),n=document.querySelector("main>a");t.forEach((t=>{t.addEventListener("click",e)})),n.addEventListener("click",e)})(),(()=>{const e=document.querySelector(".service-header"),t=e.querySelectorAll(".service-header-tab"),n=document.querySelectorAll(".service-tab");e.addEventListener("click",(e=>{let o=e.target;o=o.closest(".service-header-tab"),o&&t.forEach(((e,s)=>{e===o&&(e=>{for(let o=0;o<n.length;o++)e===o?(t[o].classList.add("active"),n[o].classList.remove("d-none")):(t[o].classList.remove("active"),n[o].classList.add("d-none"))})(s)}))}))})(),(()=>{const e=document.querySelectorAll(".portfolio-item"),t=document.querySelector(".portfolio-content"),n=document.querySelector(".portfolio-dots");let o,s=0;const i=(e,t,n)=>{e[t].classList.remove(n)},l=(e,t,n)=>{e[t].classList.add(n)};for(let t=0;t<e.length;t++){const e=document.createElement("li");e.className="dot",n.append(e)}let r=document.querySelectorAll(".dot");const a=()=>{i(e,s,"portfolio-item-active"),i(r,s,"dot-active"),s++,s>=e.length&&(s=0),l(e,s,"portfolio-item-active"),l(r,s,"dot-active")},d=(e=3e3)=>{o=setInterval(a,e)};t.addEventListener("click",(t=>{t.preventDefault();const n=t.target;n.matches(".portfolio-btn, .dot")&&(i(e,s,"portfolio-item-active"),i(r,s,"dot-active"),n.matches("#arrow-right")?s++:n.matches("#arrow-left")?s--:n.matches(".dot")&&r.forEach(((e,t)=>{e===n&&(s=t)})),s>=e.length&&(s=0),s<0&&(s=e.length-1),l(e,s,"portfolio-item-active"),l(r,s,"dot-active"))})),t.addEventListener("mouseover",(e=>{e.target.closest(".portfolio-content")&&clearInterval(o)})),t.addEventListener("mouseout",(e=>{e.target.closest(".portfolio-content")&&d()})),d(1500)})(),new class{constructor({main:e,wrap:t,next:n,prev:o,infinity:s=!1,position:i=0,slidesToShow:l=4,responsive:r=[]}){e&&t||console.warn('slider-carusel: необходимо два свойства, "main" и "wrap"!'),this.main=document.querySelector(e),this.wrap=document.querySelector(t),this.slides=document.querySelector(t).children,this.next=document.querySelector(n),this.prev=document.querySelector(o),this.slidesToShow=l,this.options={position:i,infinity:s,widthSlide:Math.floor(100/this.slidesToShow),maxPosition:this.slides.length-this.slidesToShow},this.responsive=r}init(){this.addGloClass(),this.addStyle(),this.prev&&this.right||this.addArrow(),this.controlSlider(),this.responsive&&this.responseInit()}addGloClass(){this.main.classList.add("glo-slider"),this.wrap.classList.add("glo-slider__wrap");for(const e of this.slides)e.classList.add("glo-slider__item")}addStyle(){let e=document.getElementById("sliderCarousel-style");e||(e=document.createElement("style"),e.id="sliderCarousel-style"),e.textContent=`\n               .glo-slider {\n                  overflow: hidden;\n               }\n\n               .glo-slider__wrap {\n                  display: flex;\n                  transition: transform 0.5s;\n                  will-change: transform;\n               }\n\n               .glo-slider__item {\n                  display: flex !important;\n                  align-items: center;\n                  justify-content: center;\n                  flex: 0 0 ${this.options.widthSlide}%;\n                  margin: auto 0 !important;\n               }\n            `,document.head.appendChild(e)}controlSlider(){this.prev.addEventListener("click",this.prevSlider.bind(this)),this.next.addEventListener("click",this.nextSlider.bind(this))}prevSlider(){(this.options.infinity||this.options.position>0)&&(--this.options.position,this.options.position<0&&(this.options.position=this.options.maxPosition),this.wrap.style.transform=`translateX(-${this.options.position*this.options.widthSlide}%)`)}nextSlider(){(this.options.infinity||this.options.position<this.options.maxPosition)&&(++this.options.position,this.options.position>this.options.maxPosition&&(this.options.position=0),this.wrap.style.transform=`translateX(-${this.options.position*this.options.widthSlide}%)`)}addArrow(){this.prev=document.createElement("button"),this.next=document.createElement("button"),this.prev.className="glo-slider__prev",this.next.className="glo-slider__next",this.main.appendChild(this.prev),this.main.appendChild(this.next);const e=document.createElement("style");e.textContent="\n               .glo-slider__prev,\n               .glo-slider__next {\n                  margin: 0 10px;\n                  border: 20px solid transparent;\n                  background: transparent;\n               }\n\n               .glo-slider__next {\n                  border-left-color: #19b5fe;\n               }\n               .glo-slider__prev {\n                  border-right-color: #19b5fe;\n               }\n\n               .glo-slider__prev:hover,\n               .glo-slider__next:hover,\n               .glo-slider__prev:focus,\n               .glo-slider__next:focus {\n                  background: transparent;\n                  outline: transparent;\n               },\n            ",document.head.appendChild(e)}responseInit(){const e=this.slidesToShow,t=this.responsive.map((e=>e.breakpoint)),n=Math.max(...t),o=()=>{const o=document.documentElement.clientWidth;if(o<n)for(let e=0;e<t.length;e++)o<t[e]&&(this.slidesToShow=this.responsive[e].slidesToShow,this.options.widthSlide=Math.floor(100/this.slidesToShow),this.addStyle());else this.slidesToShow=e,this.options.widthSlide=Math.floor(100/this.slidesToShow),this.addStyle()};o(),window.addEventListener("resize",o)}}({main:".companies-wrapper",wrap:".companies-hor",slidesToShow:4,infinity:!0,responsive:[{breakpoint:1024,slidesToShow:3},{breakpoint:768,slidesToShow:2},{breakpoint:576,slidesToShow:1}]}).init(),document.querySelectorAll(".command__photo").forEach((e=>{const t=e.src;e.addEventListener("mouseenter",(e=>{const t=e.target;t.src=t.dataset.img})),e.addEventListener("mouseleave",(e=>{e.target.src=t}))})),(()=>{const e=document.querySelectorAll("form"),t=document.querySelector(".calc-block").querySelectorAll("input"),n=(document.querySelectorAll(".form-btn")[0],document.querySelectorAll('input[name="user_email"]')),o=/^[А-Яа-я ]{2,20}$/,s=/^[a-zA-Z0-9-._~*'!]+@[a-z]+\.[a-z]{2,3}$/,i=/^(\s*)?(\+)?([- _():=+]?\d[- _():=+]?){10,14}(\s*)?$/,l=/[А-Яа-я0-9%-:;@"?()!,. ]{3,250}/;n.forEach((e=>e.required=!0)),t.forEach((e=>{e.addEventListener("input",(()=>e.value=e.value.replace(/\D/,"")))}));const r=e=>{e.value=e.value.replace(/-{2,}/g,"-"),e.value=e.value.replace(/\s{2,}/g," "),e.value=e.value.replace(/^[ \s]+|[ \s]+$/,""),e.value=e.value.replace(/^[/-]+|[/-]+$/,"")},a=e=>{"user_name"===e.name&&""!==e.value&&(o.test(e.value)?((e=>{let t=e.value.split(" ");for(let e=0;e<t.length;e++)t[e]=t[e].slice(0,1).toUpperCase()+t[e].slice(1).toLowerCase();let n=t.join(" ");e.value=n})(e),r(e),e.style.border="3px solid green"):(e.style.border="3px solid red",e.value="")),"user_email"===e.name&&""!==e.value&&(s.test(e.value)?(r(e),e.style.border="3px solid green"):(e.style.border="3px solid red",e.value="")),"user_phone"===e.name&&""!==e.value&&(i.test(e.value)?(r(e),e.style.border="3px solid green"):(e.style.border="3px solid red",e.value="")),"user_message"===e.name&&""!==e.value&&(l.test(e.value)?(r(e),e.style.border="3px solid green"):(e.style.border="3px solid red",e.value=""))};e.forEach((e=>{for(let t of e.elements)"BUTTON"!==t.tagName&&t.addEventListener("blur",(()=>{a(t)}));e.addEventListener("submit",(t=>{t.preventDefault();for(let t of e.elements)"BUTTON"!==t.tagName&&""!==t.value&&(t.style.border="none")}))}))})(),((e=100)=>{const t=document.querySelector(".calc-block"),n=document.querySelector(".calc-type"),o=document.querySelector(".calc-square"),s=document.querySelector(".calc-day"),i=document.querySelector(".calc-count"),l=document.getElementById("total");t.addEventListener("change",(t=>{const r=t.target;(r.matches("select")||r.matches("input"))&&(()=>{let t=0,r=1,a=1;const d=n.options[n.selectedIndex].value,c=+o.value;i.value>1&&(r+=(i.value-1)/10),s.value&&s.value<5?a*=2:s.value&&s.value<10&&(a*=1.5),d&&c&&(t=e*d*c*r*a),((e,t)=>{let n=0;const o=10*e/100,s=setInterval((()=>{n+=o,n>=e&&clearInterval(s),t.innerHTML=Math.floor(n)}),50)})(t,l)})()}))})(100),(()=>{const e=document.querySelectorAll("form"),t=document.createElement("div"),n=document.querySelector(".popup");t.classList.add("status-message"),e.forEach((e=>{e.addEventListener("submit",(s=>{if(s.preventDefault(),e.appendChild(t),t.innerHTML='\n            <div class="mask">\n               <div class="loader"></div>\n            </div>\n         ',!document.querySelector("#my-style")){const e=document.createElement("style");e.setAttribute("id","my-style"),e.textContent="\n               .status-message {\n                  font-size: 2rem;\n                  color: #ffffff;\n               }\n               .mask {\n                  z-index: 100;\n                  transition: 0.6s;\n                  display: flex;\n                  justify-content: center;\n                  align-items: center;\n               }\n               .loader {\n                  width: 75px;\n                  height: 75px;\n                  border: 10px solid #19b5fe;\n                  border-radius: 50%;\n                  border-left-color: #1b6e7a;\n                  animation: loader 1.3s linear infinite;\n               }\n               @keyframes loader {\n                  100% {\n                     transform: rotate(360deg);\n                  }\n               }\n            ",document.head.appendChild(e)}const i=new FormData(e);let l={};i.forEach(((e,t)=>{l[t]=e})),o(l).then((e=>{if(200!==e.status)throw new Error("status networking not 200");t.textContent="Спасибо! Мы скоро с вами свяжемся",setTimeout((()=>{t.textContent="",n.style.display="none"}),2e3)})).catch((e=>{t.textContent="Что-то пошло не так",setTimeout((()=>{t.textContent="",n.style.display="none"}),2e3)})),e.reset()}))}));const o=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})})()})();